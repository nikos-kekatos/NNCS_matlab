Warning: TO-DO: need to generalize by using ceil or floor 
> In config_1_watertank (line 88)
  In run (line 91)
  In main_nncs (line 63) 
The number of pieces/dimensions equals 2.

The number of points/samples per dimension equals 9.

The number of cells per dimension equals 8.

The number of cells in total equals 64.


options = 

  struct with fields:

              T_train: 10
            SLX_model: 'watertank_inport_NN_cex'
       reference_type: 3
         plotting_sim: 0
    test_dataMatching: 0
           specs_file: 'specs_watertank.stl'
         input_choice: 3
            simin_ref: 0
              ref_min: -0.5000
              ref_max: 0.5000
               ref_Ts: 5
               no_ref: 1
              testing: [1×1 struct]
             coverage: [1×1 struct]

The selected cell occupancy (given a resolution 0.50000) is 100.00%.

The number of different reference traces (coverage-based) is 64.

To DO - check consistency of traces
Add option to input the number of traces instead of the occupancy.
 
The total number of traces is 64.


options = 

  struct with fields:

               T_train: 10
             SLX_model: 'watertank_inport_NN_cex'
        reference_type: 3
          plotting_sim: 0
     test_dataMatching: 0
            specs_file: 'specs_watertank.stl'
          input_choice: 3
             simin_ref: 0
               ref_min: -0.5000
               ref_max: 0.5000
                ref_Ts: 5
                no_ref: 1
               testing: [1×1 struct]
              coverage: [1×1 struct]
                 no_x0: 1
        no_x0_repeated: 1
              simin_x0: 0
    preprocessing_bool: 0
     preprocessing_eps: 0.0100
              trimming: 0
              save_sim: 0
                  load: 0
            error_mean: 0
              error_sd: 0.0100
                    dt: 0.0100
             no_traces: 64


options = 

  struct with fields:

               T_train: 10
             SLX_model: 'watertank_inport_NN_cex'
        reference_type: 3
          plotting_sim: 0
     test_dataMatching: 0
            specs_file: 'specs_watertank.stl'
          input_choice: 3
             simin_ref: 0
               ref_min: -0.5000
               ref_max: 0.5000
                ref_Ts: 5
                no_ref: 1
               testing: [1×1 struct]
              coverage: [1×1 struct]
                 no_x0: 1
        no_x0_repeated: 1
              simin_x0: 0
    preprocessing_bool: 0
     preprocessing_eps: 0.0100
              trimming: 0
              save_sim: 0
                  load: 0
            error_mean: 0
              error_sd: 1.0000e-03
                    dt: 0.0100
             no_traces: 64

Beginning of iteration 1
End of iteration 1

Beginning of iteration 2
End of iteration 2

Beginning of iteration 3
End of iteration 3

Beginning of iteration 4
End of iteration 4

Beginning of iteration 5
End of iteration 5

Beginning of iteration 6
End of iteration 6

Beginning of iteration 7
End of iteration 7

Beginning of iteration 8
End of iteration 8

Beginning of iteration 9
End of iteration 9

Beginning of iteration 10
End of iteration 10

Beginning of iteration 11
End of iteration 11

Beginning of iteration 12
End of iteration 12

Beginning of iteration 13
End of iteration 13

Beginning of iteration 14
End of iteration 14

Beginning of iteration 15
End of iteration 15

Beginning of iteration 16
End of iteration 16

Beginning of iteration 17
End of iteration 17

Beginning of iteration 18
End of iteration 18

Beginning of iteration 19
End of iteration 19

Beginning of iteration 20
End of iteration 20

Beginning of iteration 21
End of iteration 21

Beginning of iteration 22
End of iteration 22

Beginning of iteration 23
End of iteration 23

Beginning of iteration 24
End of iteration 24

Beginning of iteration 25
End of iteration 25

Beginning of iteration 26
End of iteration 26

Beginning of iteration 27
End of iteration 27

Beginning of iteration 28
End of iteration 28

Beginning of iteration 29
End of iteration 29

Beginning of iteration 30
End of iteration 30

Beginning of iteration 31
End of iteration 31

Beginning of iteration 32
End of iteration 32

Beginning of iteration 33
End of iteration 33

Beginning of iteration 34
End of iteration 34

Beginning of iteration 35
End of iteration 35

Beginning of iteration 36
End of iteration 36

Beginning of iteration 37
End of iteration 37

Beginning of iteration 38
End of iteration 38

Beginning of iteration 39
End of iteration 39

Beginning of iteration 40
End of iteration 40

Beginning of iteration 41
End of iteration 41

Beginning of iteration 42
End of iteration 42

Beginning of iteration 43
End of iteration 43

Beginning of iteration 44
End of iteration 44

Beginning of iteration 45
End of iteration 45

Beginning of iteration 46
End of iteration 46

Beginning of iteration 47
End of iteration 47

Beginning of iteration 48
End of iteration 48

Beginning of iteration 49
End of iteration 49

Beginning of iteration 50
End of iteration 50

Beginning of iteration 51
End of iteration 51

Beginning of iteration 52
End of iteration 52

Beginning of iteration 53
End of iteration 53

Beginning of iteration 54
End of iteration 54

Beginning of iteration 55
End of iteration 55

Beginning of iteration 56
End of iteration 56

Beginning of iteration 57
End of iteration 57

Beginning of iteration 58
End of iteration 58

Beginning of iteration 59
End of iteration 59

Beginning of iteration 60
End of iteration 60

Beginning of iteration 61
End of iteration 61

Beginning of iteration 62
End of iteration 62

Beginning of iteration 63
End of iteration 63

Beginning of iteration 64
End of iteration 64

Last point of all traces will be deleted.
Equally sized variables U and Y for iteration 1.
Equally sized variables U and Y for iteration 2.
Equally sized variables U and Y for iteration 3.
Equally sized variables U and Y for iteration 4.
Equally sized variables U and Y for iteration 5.
Equally sized variables U and Y for iteration 6.
Equally sized variables U and Y for iteration 7.
Equally sized variables U and Y for iteration 8.
Equally sized variables U and Y for iteration 9.
Equally sized variables U and Y for iteration 10.
Equally sized variables U and Y for iteration 11.
Equally sized variables U and Y for iteration 12.
Equally sized variables U and Y for iteration 13.
Equally sized variables U and Y for iteration 14.
Equally sized variables U and Y for iteration 15.
Equally sized variables U and Y for iteration 16.
Equally sized variables U and Y for iteration 17.
Equally sized variables U and Y for iteration 18.
Equally sized variables U and Y for iteration 19.
Equally sized variables U and Y for iteration 20.
Equally sized variables U and Y for iteration 21.
Equally sized variables U and Y for iteration 22.
Equally sized variables U and Y for iteration 23.
Equally sized variables U and Y for iteration 24.
Equally sized variables U and Y for iteration 25.
Equally sized variables U and Y for iteration 26.
Equally sized variables U and Y for iteration 27.
Equally sized variables U and Y for iteration 28.
Equally sized variables U and Y for iteration 29.
Equally sized variables U and Y for iteration 30.
Equally sized variables U and Y for iteration 31.
Equally sized variables U and Y for iteration 32.
Equally sized variables U and Y for iteration 33.
Equally sized variables U and Y for iteration 34.
Equally sized variables U and Y for iteration 35.
Equally sized variables U and Y for iteration 36.
Equally sized variables U and Y for iteration 37.
Equally sized variables U and Y for iteration 38.
Equally sized variables U and Y for iteration 39.
Equally sized variables U and Y for iteration 40.
Equally sized variables U and Y for iteration 41.
Equally sized variables U and Y for iteration 42.
Equally sized variables U and Y for iteration 43.
Equally sized variables U and Y for iteration 44.
Equally sized variables U and Y for iteration 45.
Equally sized variables U and Y for iteration 46.
Equally sized variables U and Y for iteration 47.
Equally sized variables U and Y for iteration 48.
Equally sized variables U and Y for iteration 49.
Equally sized variables U and Y for iteration 50.
Equally sized variables U and Y for iteration 51.
Equally sized variables U and Y for iteration 52.
Equally sized variables U and Y for iteration 53.
Equally sized variables U and Y for iteration 54.
Equally sized variables U and Y for iteration 55.
Equally sized variables U and Y for iteration 56.
Equally sized variables U and Y for iteration 57.
Equally sized variables U and Y for iteration 58.
Equally sized variables U and Y for iteration 59.
Equally sized variables U and Y for iteration 60.
Equally sized variables U and Y for iteration 61.
Equally sized variables U and Y for iteration 62.
Equally sized variables U and Y for iteration 63.
Equally sized variables U and Y for iteration 64.
Warning: Removed
'/home/inzemam/Documents/Work/IITK/nncs-verimag/NNCS_matlab/src/slprj/sim/varcache/watertank_inport_NN_cex/tmwinternal'
from the MATLAB path for this MATLAB session.
	See 'doc path' for more information. 
> In trace_generation_nncs (line 144)
  In main_nncs (line 78) 
Warning: Removed
'/home/inzemam/Documents/Work/IITK/nncs-verimag/NNCS_matlab/src/slprj/sim/varcache/watertank_inport_NN_cex'
from the MATLAB path for this MATLAB session.
	See 'doc path' for more information. 
> In trace_generation_nncs (line 144)
  In main_nncs (line 78) 
Warning: Removed
'/home/inzemam/Documents/Work/IITK/nncs-verimag/NNCS_matlab/src/slprj/sim/varcache'
from the MATLAB path for this MATLAB session.
	See 'doc path' for more information. 
> In trace_generation_nncs (line 144)
  In main_nncs (line 78) 
Warning: Removed
'/home/inzemam/Documents/Work/IITK/nncs-verimag/NNCS_matlab/src/slprj/sim' from
the MATLAB path for this MATLAB session.
	See 'doc path' for more information. 
> In trace_generation_nncs (line 144)
  In main_nncs (line 78) 
Warning: Removed
'/home/inzemam/Documents/Work/IITK/nncs-verimag/NNCS_matlab/src/slprj' from the
MATLAB path for this MATLAB session.
	See 'doc path' for more information. 
> In trace_generation_nncs (line 144)
  In main_nncs (line 78) 
 
The reference range is 8.25000<=ref<=11.75000.

The control range is -123.76917<=u<=126.32463.

The plant output range is 7.90180<=y<=12.09851.


training_options = 

  struct with fields:

             retraining: 0
          use_error_dyn: 1
         use_previous_u: 2
       use_previous_ref: 3
         use_previous_y: 3
                neurons: [30 30]
    input_normalization: 0
                   loss: 'mse'
                    div: 'dividerand'
                  error: 1.0000e-05
               max_fail: 10
         regularization: 0
            param_ratio: 0.5000
                   algo: 'trainlm'


 Iteration 1.
Training started
Warning: 'ratio' is not a legal parameter. 
> In nntest.param>do_test (line 63)
  In nntest.param (line 6)
  In network.subsasgn>setPerformParam (line 1919)
  In network.subsasgn>network_subsasgn (line 475)
  In network/subsasgn (line 14)
  In nn_training (line 104)
  In main_nncs (line 144) 
Warning: 'ratio' is not a legal parameter. 
> In nntest.param>do_test (line 63)
  In nntest.param (line 6)
  In network.subsasgn>setPerformParam (line 1919)
  In network.subsasgn>network_subsasgn (line 475)
  In network/subsasgn (line 14)
  In nn_training (line 105)
  In main_nncs (line 144) 
Warning: 'ratio' is not a legal parameter. 
> In nntest.param>do_test (line 63)
  In nntest.param (line 6)
  In network.subsasgn>setPerformParam (line 1919)
  In network.subsasgn>network_subsasgn (line 475)
  In network/subsasgn (line 14)
  In nn_training (line 106)
  In main_nncs (line 144) 
Training finished

 The requested training error was 0.000010.
The obtained training error is 0.000010 reached after 1 random initializations.
The validation error is 0.000097.

ans =

    'untitled'

Warning: Block diagram 'nn_gensim' is not loaded, so it can't be closed. You can
disable this warning by using 0 as the second argument in the close_system
command.
 
> In close_system (line 37)
  In create_NN_diagram (line 14)
  In main_nncs (line 192) 
Warning: The model name 'nn_gensim' is shadowing another name in the MATLAB
workspace or path. Type "which -all nn_gensim" at the command line to find the
other uses of this name. You should change the name of the model to avoid
problems. 

options = 

  struct with fields:

               T_train: 10
             SLX_model: 'watertank_inport_NN_cex'
        reference_type: 3
          plotting_sim: 0
     test_dataMatching: 0
            specs_file: 'specs_watertank.stl'
          input_choice: 3
             simin_ref: 0
               ref_min: -0.5000
               ref_max: 0.5000
                ref_Ts: 5
                no_ref: 1
               testing: [1×1 struct]
              coverage: [1×1 struct]
                 no_x0: 1
        no_x0_repeated: 1
              simin_x0: 0
    preprocessing_bool: 0
     preprocessing_eps: 1.0000e-03
              trimming: 0
              save_sim: 0
                  load: 0
            error_mean: 0
              error_sd: 1.0000e-03
                    dt: 0.0100
             no_traces: 64
                sim_x0: 0
               sim_ref: 0
               sim_cov: [2×1 double]
               num_REF: 1
                 num_Y: 1
                 num_U: 1
       keepData_factor: 50
     deleteData_factor: 0
              NN_model: 'nn_gensim'


pc = 

  2×1 struct array with fields:

    Type
    Position
    SrcBlock
    SrcPort
    DstBlock
    DstPort

 The nominal value is 11.00151. 

 The NN value is 11.00293. 

 The absolute ss error is 0.00142. 

 The relative ss error is 0.01289%. 

Warning: This code only works for coverage 
> In main_nncs (line 245) 

falsif = 

  struct with fields:

        iterations_max: 2
                method: 'quasi'
           num_samples: 25
           num_corners: 25
          max_obj_eval: 25
    max_obj_eval_local: 20
                  seed: 100
            num_inputs: 1
         property_file: 'specs_watertank.stl'
          property_all: {1×4 cell}
              property: [1×1 STL_Formula]
          property_cex: [1×1 STL_Formula]
          property_nom: [1×1 STL_Formula]


 Iteration 1.

 Beginning falsification with Breach.

 We use the model watertank_inport_NN_cex for falsification.
Error:File: falsification_breach.m Line: 183 Column: 27
Identifier 'input_param' is not a function or a shared variable. To share
'input_param' with nested function, initialize it in the current scope. For more
information, see Sharing Variables Between Parent and Nested Functions.

Error in main_nncs (line 338)
    [data_cex,falsif_pb_temp,rob_nominal]=
    falsification_breach(options,falsif,model_name,check_nominal);
 
>> 
